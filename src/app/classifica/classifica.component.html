<div class="body fast-fade-in">
  <h2 class="title"> Classifica </h2>

  <div class="lista row row-cols-3">
    @for (giocatore of slice(0, 3); track $index)
    {
      <div class="row player-row">
        <label class="position" for="{{ giocatore.name }}"> {{ $index + 1 }} </label>
        <div class="col p-0 player">
          <label class="player-name" for="{{ giocatore.name }}"> {{ giocatore.name }} </label>
          <input type="number" class="points" [name]="giocatore.name" [id]="giocatore.name" [(ngModel)]="giocatore.points" #pointsInput>
        </div>
      </div>
    }
  </div>

  <div *ngIf="grouped?.length" class="overflow-y otherPlayers" style="padding: 0 20px;">
    <div *ngFor="let group of grouped; let i = index" class="lista row row-cols-4">
      @for (giocatore of group; track $index)
      {
        <div class="row player-row">
          <label class="position" for="{{ giocatore.name }}"> {{ $index + (4 * (i + 1)) }} </label>
          <div class="p-0 player">
            <label class="player-name" for="{{ giocatore.name }}"> {{ giocatore.name }} </label>
            <input type="number" class="points" [name]="giocatore.name" [id]="giocatore.name" [(ngModel)]="giocatore.points" #pointsInput>
          </div>
        </div>
      }
    </div>
  </div>

  <div class="buttons">
    <button type="button" class="btn btn-primary" (click)="onRefreshPositions()" title="Aggiorna le posizioni della classifica (Alt/Option + R)">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16" style="padding: 4px;">
        <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>
        <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>
      </svg>
    </button>

    <button type="button" class="btn btn-danger" (click)="onEditPlayers()" title="Modifica la lista dei giocatori o squadre (Alt/Option + E)">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16" style="padding: 7px;">
        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
      </svg>
    </button>
  </div>
</div>
